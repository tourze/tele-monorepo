---
name: scenario-readme-author
description: 当需要按照生命周期与质量门规范生成或更新 README，确保文档可执行且可验证时，请加载本技能。
allowed-tools: Read(*), Write(*), Edit(*), MultiEdit(*), Bash(*), Glob(*), Grep(*), TodoWrite
---

# README 生成技能

## 关联技能

- `php-tool-composer`：依赖治理与只读命令策略
- `scenario-quality-gates`：记录验证命令与目标显式执行
- `method-security-baseline`：配置、密钥与安全提醒
- 相关语言/工具技能：根据模块语言引用对应测试与构建流程

## 适用场景

- 为仓库或子包创建、更新 README，沉淀运行与维护知识。
- 需要把项目定位、安装依赖、脚本命令、质量门、架构边界等信息统一呈现。
- 衔接 `CLAUDE.md` 的目标显式性、质量门与回滚要求，让文档可执行、可验证。

## 前置准备

- 收集项目/包的核心信息：名称、目标用户、主要能力、运行时环境。
- 获取依赖与脚本：`composer.json`、`package.json`、`monorepo-builder.php`、`mago.toml` 等。
- 明确质量门命令（格式、静态分析、测试、构建）以及回滚/发布策略。
- 查阅现有文档（PRD、技术方案、Runbook），避免信息冲突或遗漏。

## 操作步骤

1. **上下文梳理**
   - 读取目录结构、关键配置文件、现有文档。
   - 对照 `CLAUDE.md` 红线，记录必须覆盖的主题（质量门、回滚、风险、提交规范）。
2. **章节规划**
   - 按命令内嵌基线建议组织章节：简介、安装要求、快速开始、脚本命令、配置与环境变量、质量门/测试、架构与边界、维护与发布、变更记录、贡献指南。
   - 针对多语言模块，分节列出 PHP/JS/Python 等子系统的专属命令。
3. **内容撰写**
   - 优先提供可复制、可执行的命令示例（避免模糊描述）。
   - 明确依赖管理原则（禁止自动执行 `composer install`，提示人工操作）。
   - 标注质量门执行命令需“目标显式”，示例以路径/模块限定。
   - 说明回滚策略、特性开关、环境区分、监控告警。
4. **交叉验证**
   - 对照源文件验证命令的存在性与参数正确性。
   - 确认章节之间引用一致（例如脚本名称与 `package.json` 中保持一致）。
   - 根据仓库策略补充链接：贡献指南、Issue 模板、License。
5. **输出与版本管理**
   - 生成 Markdown 文档，遵循纯 ASCII、无多余 HTML。
   - 如存在已有 README，采用差异化更新并记录主要变化。
   - 在提交说明中补充验证命令与交叉检查结果。

## 质量校验

- 所有关键章节齐备且信息准确，无空白占位。
- 命令示例真实可执行，路径/模块限定明确。
- 质量门、回滚、风险、贡献流程均与 `CLAUDE.md` 要求一致。
- Markdown 通过 lint/render 校验（如 `markdownlint`、预览检查），Mermaid 图（若有）渲染成功。

## 失败与回滚

- 信息缺失：列出待补充清单，标注 Owner 与截止时间，暂缓发布。
- 命令验证失败：先修正文档或脚本，必要时回滚 README 更新。
- 版本冲突：保留冲突段落给维护者决策，禁止擅自覆盖。

## 交付物

- 更新后的 README（Markdown）。
- 章节与命令核对清单。
- 质量门命令与验证结果说明，便于后续审阅。
