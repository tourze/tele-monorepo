---
name: method-retro-memory
description: 任务完成后反思并迭代记忆文件，确保经验沉淀与改进建议落实。
---

# 记忆迭代技能

## 适用场景

- 每个任务、迭代、上线后进行复盘。
- 发现现有记忆文件缺失、过时或冲突时。
- 需要输出可执行的改进项，并纳入知识库。

> 默认在任务执行链末尾自驱触发；若前序步骤未命中阻塞条件，完成整理后立即进入本技能进行沉淀。

## 前置准备

- 收集任务背景、执行过程、遇到的问题、解决方案。
- 获取最新记忆文件版本（根目录总则、tech/*、skills/* 等）。
- 准备复盘模板，包含“做得好/待改进/行动项”。

## 操作步骤

1. **事实复盘**
   - 列出时间线：关键事件、决策、结果。
   - 汇总指标：质量门执行结果、测试覆盖、业务指标。
2. **偏差分析**
   - 对照计划与实际，找出偏差原因。
   - 识别记忆文件中缺失或不准确的条目。
3. **知识沉淀**
   - 将新经验分类为：规则补充、流程优化、工具使用、反面案例。
   - 评估影响范围：通用 vs 语言特定。
4. **行动项**
   - 为每个改进点设定 Owner、截止时间、交付方式（文档、Skill 更新、脚本）。
   - 在 `.claude/skills/` 创建/更新对应文件。
   - 在 `.claude/commands/` 创建/更新对应文件。
   - 更新 `CLAUDE.md` 的指定部分。
5. **同步与跟进**
   - 向团队同步结论，获取反馈。
   - 在下个迭代检查改进项执行情况。

## 质量校验

- 复盘文档包含事实、分析、行动项三部分。
- 改进建议具体、可执行，并记录 Owner/截止时间。
- 记忆文件更新已提交或安排在可预见时间窗口。

## 失败与回滚

- 行动项未执行：升级为风险，纳入下一次评审。
- 改动导致冲突：回滚并重新设计更新方案。
- 记忆文件冗余：合并内容或链接已有技能，避免重复。

## 交付物

- 复盘文档与行动项清单。
- 更新后的记忆或 Skill 文件差异。
- 跟进机制（提醒、Issue、迭代任务）。
